{"ast":null,"code":"import _slicedToArray from\"/Users/mihajlopetrovic/Desktop/Posao/MappingHistory-AI/client-2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Marker,Popup}from'react-leaflet';import{icon}from'../Variable';import MarkerInf from'../MarkerInf';import AddPolygon from'../GeoJson/addPolygon';import{ICONRED,theRadius,ICONBLUE,iconRandom}from'../Variable';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function CustomMarker(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),renderedThings=_useState2[0],setRenderThings=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),itemsRendered=_useState4[0],setItemsRendered=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),show=_useState6[0],setShow=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),year=_useState8[0],setYear=_useState8[1];useEffect(function(){var _loop=function _loop(i){setTimeout(function(){setRenderThings(props.things[i]);setYear(props.things[i].date.split(\"/\")[2]);setShow(true);},5000*i);};for(var i in props.things){_loop(i);}},[]);if(show){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Marker,{icon:iconRandom(renderedThings.type),position:[renderedThings.latitude,renderedThings.longitude],children:/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"description-name\",children:renderedThings.event}),/*#__PURE__*/_jsx(\"br\",{}),renderedThings.description,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"description-date\",children:\"Date:\"}),renderedThings.date]})},renderedThings.event),/*#__PURE__*/_jsx(MarkerInf,{markerName:renderedThings.event,desc:renderedThings.description,date:renderedThings.date}),/*#__PURE__*/_jsx(AddPolygon,{yearMarker:year})]});}}function dateFormater(date){var words=date.split('/');var mon=words[0];var day=words[1];var year=words[2];if(mon=1){mon=\"Jan\";}else if(mon='2'){mon=\"Feb\";}else if(mon='3'){mon=\"Mar\";}else if(mon='4'){mon=\"Apr\";}else if(mon='5'){mon=\"May\";}else if(mon='6'){mon=\"Jun\";}else if(mon='7'){mon=\"Jul\";}else if(mon='8'){mon=\"Avg\";}else if(mon='9'){mon=\"Sep\";}else if(mon='10'){mon=\"Oct\";}else if(mon='11'){mon=\"Nov\";}else if(mon='12'){mon=\"Dec\";}return mon+\" \"+day+\" \"+year;}","map":{"version":3,"names":["React","useEffect","useState","Marker","Popup","icon","MarkerInf","AddPolygon","ICONRED","theRadius","ICONBLUE","iconRandom","CustomMarker","props","renderedThings","setRenderThings","itemsRendered","setItemsRendered","show","setShow","year","setYear","i","setTimeout","things","date","split","type","latitude","longitude","event","description","dateFormater","words","mon","day"],"sources":["/Users/mihajlopetrovic/Desktop/Posao/MappingHistory-AI/client-2/src/Marker/index.js"],"sourcesContent":["import React , { useEffect, useState } from 'react';\nimport {Marker,Popup} from 'react-leaflet'\nimport { icon } from '../Variable';\nimport MarkerInf from '../MarkerInf';\nimport AddPolygon from '../GeoJson/addPolygon';\nimport { ICONRED,theRadius,ICONBLUE ,iconRandom} from '../Variable';\n\n\n\nexport default function CustomMarker(props){\n  const [renderedThings, setRenderThings] = useState();\n  const [itemsRendered , setItemsRendered] = useState(0);\n  const [show, setShow] = useState(false);\n  const [year,setYear] = useState();\n\n  useEffect(() => {\n\n    for (let i in props.things) {\n      setTimeout(() => {\n        setRenderThings(props.things[i]);\n        setYear(((props.things[i].date).split(\"/\"))[2])    \n        setShow(true);\n      }, 5000 * i);\n    }\n\n  }, []);\n\n  if(show){\n    return(\n      <>\n      <Marker key={renderedThings.event} icon={iconRandom(renderedThings.type)} position={[renderedThings.latitude,renderedThings.longitude]}>\n        <Popup>\n        <span className='description-name' >{renderedThings.event}</span><br></br>\n          {renderedThings.description}<br></br>\n          <span className='description-date'>Date:</span>{renderedThings.date}\n        </Popup>\n      </Marker>\n      <MarkerInf markerName={renderedThings.event} desc= {renderedThings.description} date ={renderedThings.date}></MarkerInf>\n      <AddPolygon yearMarker = {year}></AddPolygon>\n      </>\n\n  )\n  }\n  \n}\n\nfunction dateFormater(date){\n  const words = date.split('/');\n  var mon=words[0]\n  var day=words[1]\n  var year=words[2]\n\n  if(mon = 1){\n    mon = \"Jan\"\n  }else if (mon = '2'){\n    mon = \"Feb\"\n  }else if (mon = '3'){\n    mon = \"Mar\"\n  }else if (mon = '4'){\n    mon = \"Apr\"\n  }else if (mon = '5'){\n    mon = \"May\"\n  }else if (mon = '6'){\n    mon = \"Jun\"\n  }else if (mon = '7'){\n    mon = \"Jul\"\n  }else if (mon = '8'){\n    mon = \"Avg\"\n  }else if (mon = '9'){\n    mon = \"Sep\"\n  }else if (mon = '10'){\n    mon = \"Oct\"\n  }else if (mon = '11'){\n    mon = \"Nov\"\n  }else if (mon = '12'){\n    mon=\"Dec\"\n  }\n  return mon+\" \"+day + \" \" +year\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}