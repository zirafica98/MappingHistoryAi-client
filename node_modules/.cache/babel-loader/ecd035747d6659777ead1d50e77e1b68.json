{"ast":null,"code":"import _slicedToArray from\"/Users/mihajlopetrovic/Desktop/Posao/MappingHistory-AI/client-2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useMapEvents,useMap}from\"react-leaflet\";import{Marker,Popup}from'react-leaflet';import{icon}from'../Variable';import MarkerInf from'../MarkerInf';import AddPolygon from'../GeoJson/addPolygon';import $ from\"jquery\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function CustomMarkerMainCity(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),renderedThings=_useState2[0],setRenderThings=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),itemsRendered=_useState4[0],setItemsRendered=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),show=_useState6[0],setShow=_useState6[1];//   const RecenterAutomatically = ({lat,lng}) => {\n//     const map = useMap();\n//      useEffect(() => {\n//       var zoom = Math.floor(Math.log2((Math.cos(lat * Math.PI/180) * 2 * Math.PI * 6371008 * 4)/props.radius))\n//        map.setZoom(zoom);\n//        map.setView([lat, lng]);\n//      }, [lat, lng]);\n//      return null;\n//    }\nuseEffect(function(){var _loop=function _loop(i){setTimeout(function(){setRenderThings(props.things[i]);setShow(true);},5000*i);};for(var i in props.things){_loop(i);}$(\".leaflet-marker-pane :first-child\").hide();},[props]);if(show){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Marker,{icon:icon(renderedThings.data.img_name),position:[renderedThings.data.lat,renderedThings.data.long_marker],children:/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsx(\"a\",{className:\"description-name\",href:renderedThings.data.wiki,children:renderedThings.data.marker_name}),/*#__PURE__*/_jsx(\"br\",{}),renderedThings.data.text_wrap,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"description-date\",children:\"Date:\"}),\" \",dateFormater(renderedThings.data.date),\" \",renderedThings.data.bc_ad]})},renderedThings.key),/*#__PURE__*/_jsx(MarkerInf,{markerName:renderedThings.data.marker_name,desc:renderedThings.data.text_wrap,wiki:renderedThings.data.wiki,date:dateFormater(renderedThings.data.date),bc_ad:renderedThings.data.bc_ad}),/*#__PURE__*/_jsx(AddPolygon,{yearMarker:renderedThings.data.complateYear})]});}}function dateFormater(date){var words=date.split('/');var mon=words[0];var day=words[1];var year=words[2];if(mon=1){mon=\"Jan\";}else if(mon='2'){mon=\"Feb\";}else if(mon='3'){mon=\"Mar\";}else if(mon='4'){mon=\"Apr\";}else if(mon='5'){mon=\"May\";}else if(mon='6'){mon=\"Jun\";}else if(mon='7'){mon=\"Jul\";}else if(mon='8'){mon=\"Avg\";}else if(mon='9'){mon=\"Sep\";}else if(mon='10'){mon=\"Oct\";}else if(mon='11'){mon=\"Nov\";}else if(mon='12'){mon=\"Dec\";}return mon+\" \"+day+\" \"+year;}","map":{"version":3,"names":["React","useEffect","useState","useMapEvents","useMap","Marker","Popup","icon","MarkerInf","AddPolygon","$","CustomMarkerMainCity","props","renderedThings","setRenderThings","itemsRendered","setItemsRendered","show","setShow","i","setTimeout","things","hide","data","img_name","lat","long_marker","wiki","marker_name","text_wrap","dateFormater","date","bc_ad","key","complateYear","words","split","mon","day","year"],"sources":["/Users/mihajlopetrovic/Desktop/Posao/MappingHistory-AI/client-2/src/Marker/CustomMarkerMainCity.js"],"sourcesContent":["import React , { useEffect, useState} from 'react';\nimport {useMapEvents,useMap} from \"react-leaflet\"\nimport {Marker,Popup} from 'react-leaflet'\nimport { icon } from '../Variable';\nimport MarkerInf from '../MarkerInf';\nimport AddPolygon from '../GeoJson/addPolygon';\nimport $ from \"jquery\"\n\nexport default function CustomMarkerMainCity(props){\n  const [renderedThings, setRenderThings] = useState();\n  const [itemsRendered , setItemsRendered] = useState(0);\n  const [show, setShow] = useState(false);\n  \n\n//   const RecenterAutomatically = ({lat,lng}) => {\n//     const map = useMap();\n//      useEffect(() => {\n//       var zoom = Math.floor(Math.log2((Math.cos(lat * Math.PI/180) * 2 * Math.PI * 6371008 * 4)/props.radius))\n//        map.setZoom(zoom);\n//        map.setView([lat, lng]);\n//      }, [lat, lng]);\n//      return null;\n//    }\n\n  useEffect(() => {\n\n    for (let i in props.things) {\n      setTimeout(() => {\n        setRenderThings(props.things[i]);\n        setShow(true);\n        \n      }, 5000 * i);\n    }\n    \n    $(\".leaflet-marker-pane :first-child\").hide();\n  }, [props]);\n\n  if(show){\n    \n    return(\n      <>\n      <Marker key={renderedThings.key} icon={icon(renderedThings.data.img_name)} position={[renderedThings.data.lat,renderedThings.data.long_marker]}>\n        <Popup>\n          <a className='description-name' href={renderedThings.data.wiki}>{renderedThings.data.marker_name}</a><br></br>\n          {renderedThings.data.text_wrap}<br></br>\n          <span className='description-date'>Date:</span> {dateFormater(renderedThings.data.date)} {renderedThings.data.bc_ad}\n        </Popup>\n      </Marker>\n      <MarkerInf markerName={renderedThings.data.marker_name} desc= {renderedThings.data.text_wrap} wiki={renderedThings.data.wiki} date ={dateFormater(renderedThings.data.date)} bc_ad = {renderedThings.data.bc_ad}></MarkerInf>\n      <AddPolygon yearMarker = {renderedThings.data.complateYear}></AddPolygon>\n      {/* <RecenterAutomatically  lat={renderedThings.data.lat} lng={renderedThings.data.long_marker}></RecenterAutomatically> */}\n      </>\n\n  )\n  }\n  \n}\n\nfunction dateFormater(date){\n  const words = date.split('/');\n  var mon=words[0]\n  var day=words[1]\n  var year=words[2]\n\n  if(mon = 1){\n    mon = \"Jan\"\n  }else if (mon = '2'){\n    mon = \"Feb\"\n  }else if (mon = '3'){\n    mon = \"Mar\"\n  }else if (mon = '4'){\n    mon = \"Apr\"\n  }else if (mon = '5'){\n    mon = \"May\"\n  }else if (mon = '6'){\n    mon = \"Jun\"\n  }else if (mon = '7'){\n    mon = \"Jul\"\n  }else if (mon = '8'){\n    mon = \"Avg\"\n  }else if (mon = '9'){\n    mon = \"Sep\"\n  }else if (mon = '10'){\n    mon = \"Oct\"\n  }else if (mon = '11'){\n    mon = \"Nov\"\n  }else if (mon = '12'){\n    mon=\"Dec\"\n  }\n  return mon+\" \"+day + \" \" +year\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}