{"ast":null,"code":"import _classCallCheck from\"/Users/mihajlopetrovic/Desktop/Posao/MappingHistory-AI/client-2/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/mihajlopetrovic/Desktop/Posao/MappingHistory-AI/client-2/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/mihajlopetrovic/Desktop/Posao/MappingHistory-AI/client-2/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/mihajlopetrovic/Desktop/Posao/MappingHistory-AI/client-2/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import'./Map.css';import{MapContainer,TileLayer}from'react-leaflet';import\"leaflet/dist/images/marker-shadow.png\";import'leaflet/dist/leaflet.css';import'leaflet-defaulticon-compatibility/dist/leaflet-defaulticon-compatibility.webpack.css';import React from'react';import\"leaflet/dist/leaflet.css\";import\"leaflet-geosearch/dist/geosearch.css\";import{Data}from'../Data';import MarkerRadius from'../MarkerRadius';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var MyMap=/*#__PURE__*/function(_React$Component){_inherits(MyMap,_React$Component);var _super=_createSuper(MyMap);function MyMap(props){var _this;_classCallCheck(this,MyMap);_this=_super.call(this,props);_this.state={lan:props.lan,lon:props.lon,cityName:props.cityName,items:[],question:props.question,kilometers:100};return _this;}_createClass(MyMap,[{key:\"changeKilometers\",value:function changeKilometers(event){var slideValue=document.getElementsByClassName(\"kilometersValue\");var inputSlider=document.getElementsByClassName(\"inputValue\");inputSlider.oninput=function(){var value=inputSlider.value;slideValue.textContent=value;slideValue.style.left=value/2+\"%\";slideValue.classList.add(\"show\");};inputSlider.onblur=function(){slideValue.classList.remove(\"show\");};}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;localStorage.setItem('range',this.state.kilometers);fetch(\"https://nominatim.openstreetmap.org/search?format=json&limit=3&q=\"+this.state.cityName).then(function(res){return res.json();}).then(function(result){_this2.setState({isLoaded:true,items:result});},function(error){_this2.setState({isLoaded:true,error:error});});}},{key:\"render\",value:function render(){var _this3=this;if(this.state.items.length>0){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(MapContainer,{center:[this.state.items[0].lat,this.state.items[0].lon],zoom:14,style:{height:\"100vh\"},children:[/*#__PURE__*/_jsx(TileLayer,{attribution:\"&copy <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",url:\"https://api.maptiler.com/maps/voyager/256/{z}/{x}/{y}.png?key=tbxxnHOYRKXeGzScTE2D\"}),/*#__PURE__*/_jsx(Data,{items:this.state.items,city:this.state.cityName,radius:this.state.kilometers,question:this.state.question}),/*#__PURE__*/_jsx(MarkerRadius,{center:[this.state.items[0].lat,this.state.items[0].lon],radius:this.state.kilometers})]}),/*#__PURE__*/_jsx(\"div\",{className:\"range-operations\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"range\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sliderValue\",children:/*#__PURE__*/_jsx(\"span\",{className:\"kilometersValue\",children:this.state.kilometers})}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"value left\",children:\"100\"}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",orientation:\"vertical\",className:\"inputValue\",onChange:function onChange(event){_this3.setState({kilometers:event.target.value});_this3.changeKilometers();localStorage.setItem('range',event.currentTarget.value);},min:\"0\",max:\"20000\",value:this.state.kilometers,steps:\"1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"value right\",children:\"20000\"})]})]})})]});}else{return\"\";}}}]);return MyMap;}(React.Component);","map":{"version":3,"names":["MapContainer","TileLayer","React","Data","MarkerRadius","MyMap","props","state","lan","lon","cityName","items","question","kilometers","event","slideValue","document","getElementsByClassName","inputSlider","oninput","value","textContent","style","left","classList","add","onblur","remove","localStorage","setItem","fetch","then","res","json","result","setState","isLoaded","error","length","lat","height","target","changeKilometers","currentTarget","Component"],"sources":["/Users/mihajlopetrovic/Desktop/Posao/MappingHistory-AI/client-2/src/Map/Map.js"],"sourcesContent":["import './Map.css';\nimport { MapContainer, TileLayer} from 'react-leaflet'\nimport \"leaflet/dist/images/marker-shadow.png\";\nimport 'leaflet/dist/leaflet.css';\nimport 'leaflet-defaulticon-compatibility/dist/leaflet-defaulticon-compatibility.webpack.css';\nimport React from 'react';\nimport \"leaflet/dist/leaflet.css\";\nimport \"leaflet-geosearch/dist/geosearch.css\";\nimport { Data } from '../Data';\nimport MarkerRadius from '../MarkerRadius';\nexport class MyMap extends React.Component {\n  constructor(props){\n      super(props);\n      this.state = {\n        lan: props.lan,\n        lon:props.lon,\n        cityName:props.cityName,\n        items:[],\n        question:props.question,\n        kilometers:100\n      }\n  }\n  changeKilometers (event){\n    const slideValue = document.getElementsByClassName(\"kilometersValue\");\n    const inputSlider = document.getElementsByClassName(\"inputValue\");\n    inputSlider.oninput = (()=>{\n      let value = inputSlider.value;\n      slideValue.textContent = value;\n      slideValue.style.left = (value/2) + \"%\";\n      slideValue.classList.add(\"show\");\n\n    });\n    inputSlider.onblur = (()=>{\n      slideValue.classList.remove(\"show\");\n    });\n\n    \n  };\n\n  componentDidMount(){\n    localStorage.setItem('range', this.state.kilometers);\n    fetch(\"https://nominatim.openstreetmap.org/search?format=json&limit=3&q=\" + this.state.cityName)\n    .then(res => res.json())\n    .then(\n      (result) => {\n       \n        this.setState({\n          isLoaded: true,\n          items: result\n        });\n\n    },\n      (error) => {\n        this.setState({\n          isLoaded: true,\n          error\n        });\n      }\n    )\n  }\n\n  render() {\n    \n      if (this.state.items.length>0){\n        return (\n          <div>\n          <MapContainer center={[this.state.items[0].lat,this.state.items[0].lon]} zoom={14} style={{height: \"100vh\"}}>\n            <TileLayer\n              attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n              url=\"https://api.maptiler.com/maps/voyager/256/{z}/{x}/{y}.png?key=tbxxnHOYRKXeGzScTE2D\" />\n              {/* <Marker icon={ICONRED} position={[this.state.items[0].lat,this.state.items[0].lon]}></Marker> */}\n            <Data items={this.state.items} city={this.state.cityName} radius={this.state.kilometers} question={this.state.question} ></Data>\n            <MarkerRadius center={[this.state.items[0].lat,this.state.items[0].lon]} radius= {this.state.kilometers}></MarkerRadius>\n            </MapContainer>\n            <div className=\"range-operations\">\n                <div className=\"range\">\n                <div className=\"sliderValue\">\n                  <span className='kilometersValue'>{this.state.kilometers}</span>\n                </div>\n                <div className=\"field\">\n                  <div className=\"value left\">100</div>\n                  <input type=\"range\" orientation=\"vertical\" className='inputValue' onChange={(event) => {this.setState({ kilometers: event.target.value}); this.changeKilometers();localStorage.setItem('range', event.currentTarget.value);}} min=\"0\" max=\"20000\" value={this.state.kilometers} steps=\"1\"/>\n                  <div className=\"value right\">20000</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )\n      }else{\n        return \"\";\n      }\n      \n    \n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}