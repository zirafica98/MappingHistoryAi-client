{"ast":null,"code":"var _jsxFileName = \"/Users/mihajlopetrovic/Desktop/Posao/MappingHistory-AI/client-2/src/Map/Map.js\";\nimport './Map.css';\nimport { MapContainer, TileLayer, Marker, Circle } from 'react-leaflet';\nimport \"leaflet/dist/images/marker-shadow.png\";\nimport 'leaflet/dist/leaflet.css';\nimport 'leaflet-defaulticon-compatibility/dist/leaflet-defaulticon-compatibility.webpack.css';\nimport React from 'react';\nimport \"leaflet/dist/leaflet.css\";\nimport \"leaflet-geosearch/dist/geosearch.css\";\nimport RangeSlider from 'react-range-slider-input';\nimport 'react-range-slider-input/dist/style.css';\nimport MarkerRadius from '../MarkerRadius';\nimport $ from \"jquery\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class MyMap extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lan: props.lan,\n      lon: props.lon,\n      cityName: props.cityName,\n      items: [],\n      kilometers: 100\n    };\n  }\n\n  changeKilometers(event) {\n    const slideValue = document.getElementsByClassName(\"kilometersValue\");\n    const inputSlider = document.getElementsByClassName(\"inputValue\");\n\n    inputSlider.oninput = () => {\n      let value = inputSlider.value;\n      slideValue.textContent = value;\n      slideValue.style.left = value / 2 + \"%\";\n      slideValue.classList.add(\"show\");\n    };\n\n    inputSlider.onblur = () => {\n      slideValue.classList.remove(\"show\");\n    };\n  }\n\n  componentDidMount() {\n    localStorage.setItem('range', this.state.kilometers);\n    fetch(\"https://nominatim.openstreetmap.org/search?format=json&limit=3&q=\" + this.state.cityName).then(res => res.json()).then(result => {\n      this.setState({\n        isLoaded: true,\n        items: result\n      });\n    }, error => {\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  }\n\n  render() {\n    if (this.state.items.length > 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(MapContainer, {\n          center: [this.state.items[0].lat, this.state.items[0].lon],\n          zoom: 14,\n          style: {\n            height: \"100vh\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n            attribution: \"&copy <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n            url: \"https://api.maptiler.com/maps/voyager/256/{z}/{x}/{y}.png?key=tbxxnHOYRKXeGzScTE2D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MarkerRadius, {\n            center: [this.state.items[0].lat, this.state.items[0].lon],\n            radius: this.state.kilometers\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"range-operations\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"range\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sliderValue\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"kilometersValue\",\n                children: this.state.kilometers\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"value left\",\n                children: \"100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(RangeSlider, {\n                className: \"inputValue\",\n                min: \"100\",\n                max: \"20000\",\n                step: \"1\",\n                value: this.state.kilometers,\n                onInput: event => {\n                  this.setState({\n                    kilometers: event.target.value\n                  });\n                  this.changeKilometers();\n                  localStorage.setItem('range', event.currentTarget.value);\n                },\n                orientation: \"horizontal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"value right\",\n                children: \"20000\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this);\n    } else {\n      return \"\";\n    }\n  }\n\n}","map":{"version":3,"names":["MapContainer","TileLayer","Marker","Circle","React","RangeSlider","MarkerRadius","$","MyMap","Component","constructor","props","state","lan","lon","cityName","items","kilometers","changeKilometers","event","slideValue","document","getElementsByClassName","inputSlider","oninput","value","textContent","style","left","classList","add","onblur","remove","componentDidMount","localStorage","setItem","fetch","then","res","json","result","setState","isLoaded","error","render","length","lat","height","target","currentTarget"],"sources":["/Users/mihajlopetrovic/Desktop/Posao/MappingHistory-AI/client-2/src/Map/Map.js"],"sourcesContent":["import './Map.css';\nimport { MapContainer, TileLayer,Marker,Circle} from 'react-leaflet'\nimport \"leaflet/dist/images/marker-shadow.png\";\nimport 'leaflet/dist/leaflet.css';\nimport 'leaflet-defaulticon-compatibility/dist/leaflet-defaulticon-compatibility.webpack.css';\nimport React from 'react';\nimport \"leaflet/dist/leaflet.css\";\nimport \"leaflet-geosearch/dist/geosearch.css\";\nimport RangeSlider from 'react-range-slider-input';\nimport 'react-range-slider-input/dist/style.css';\nimport MarkerRadius from '../MarkerRadius';\nimport $ from \"jquery\"\nexport class MyMap extends React.Component {\n  constructor(props){\n      super(props);\n      this.state = {\n        lan: props.lan,\n        lon:props.lon,\n        cityName:props.cityName,\n        items:[],\n        kilometers:100\n      }\n  }\n  changeKilometers (event){\n    const slideValue = document.getElementsByClassName(\"kilometersValue\");\n    const inputSlider = document.getElementsByClassName(\"inputValue\");\n    inputSlider.oninput = (()=>{\n      let value = inputSlider.value;\n      slideValue.textContent = value;\n      slideValue.style.left = (value/2) + \"%\";\n      slideValue.classList.add(\"show\");\n\n    });\n    inputSlider.onblur = (()=>{\n      slideValue.classList.remove(\"show\");\n    });\n\n    \n  };\n\n  componentDidMount(){\n    localStorage.setItem('range', this.state.kilometers);\n    fetch(\"https://nominatim.openstreetmap.org/search?format=json&limit=3&q=\" + this.state.cityName)\n    .then(res => res.json())\n    .then(\n      (result) => {\n       \n        this.setState({\n          isLoaded: true,\n          items: result\n        });\n\n    },\n      (error) => {\n        this.setState({\n          isLoaded: true,\n          error\n        });\n      }\n    )\n  }\n\n  render() {\n    \n      if (this.state.items.length>0){\n        return (\n          <div>\n          <MapContainer center={[this.state.items[0].lat,this.state.items[0].lon]} zoom={14} style={{height: \"100vh\"}}>\n            <TileLayer\n              attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n              url=\"https://api.maptiler.com/maps/voyager/256/{z}/{x}/{y}.png?key=tbxxnHOYRKXeGzScTE2D\" />\n              {/* <Marker icon={ICONRED} position={[this.state.items[0].lat,this.state.items[0].lon]}></Marker> */}\n            {/* <Data items={this.state.items} city={this.state.cityName} radius={this.state.kilometers} ></Data> */}\n            <MarkerRadius center={[this.state.items[0].lat,this.state.items[0].lon]} radius= {this.state.kilometers}></MarkerRadius>\n            </MapContainer>\n            <div className=\"range-operations\">\n                <div className=\"range\">\n                <div className=\"sliderValue\">\n                  <span className='kilometersValue'>{this.state.kilometers}</span>\n                </div>\n                <div className=\"field\">\n                  <div className=\"value left\">100</div>\n                  {/* <input type=\"range\" orientation=\"vertical\" className='inputValue' onChange={(event) => {this.setState({ kilometers: event.target.value}); this.changeKilometers();localStorage.setItem('range', event.currentTarget.value);}} min=\"0\" max=\"20000\" value={this.state.kilometers} steps=\"1\"/> */}\n                  <RangeSlider className=\"inputValue\" min=\"100\" max=\"20000\" step=\"1\" value={this.state.kilometers} onInput={(event) => {this.setState({ kilometers: event.target.value}); this.changeKilometers();localStorage.setItem('range', event.currentTarget.value);}} orientation=\"horizontal\"/>\n                  <div className=\"value right\">20000</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )\n      }else{\n        return \"\";\n      }\n      \n    \n  }\n}\n"],"mappings":";AAAA,OAAO,WAAP;AACA,SAASA,YAAT,EAAuBC,SAAvB,EAAiCC,MAAjC,EAAwCC,MAAxC,QAAqD,eAArD;AACA,OAAO,uCAAP;AACA,OAAO,0BAAP;AACA,OAAO,sFAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,0BAAP;AACA,OAAO,sCAAP;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAO,yCAAP;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,OAAOC,CAAP,MAAc,QAAd;;AACA,OAAO,MAAMC,KAAN,SAAoBJ,KAAK,CAACK,SAA1B,CAAoC;EACzCC,WAAW,CAACC,KAAD,EAAO;IACd,MAAMA,KAAN;IACA,KAAKC,KAAL,GAAa;MACXC,GAAG,EAAEF,KAAK,CAACE,GADA;MAEXC,GAAG,EAACH,KAAK,CAACG,GAFC;MAGXC,QAAQ,EAACJ,KAAK,CAACI,QAHJ;MAIXC,KAAK,EAAC,EAJK;MAKXC,UAAU,EAAC;IALA,CAAb;EAOH;;EACDC,gBAAgB,CAAEC,KAAF,EAAQ;IACtB,MAAMC,UAAU,GAAGC,QAAQ,CAACC,sBAAT,CAAgC,iBAAhC,CAAnB;IACA,MAAMC,WAAW,GAAGF,QAAQ,CAACC,sBAAT,CAAgC,YAAhC,CAApB;;IACAC,WAAW,CAACC,OAAZ,GAAuB,MAAI;MACzB,IAAIC,KAAK,GAAGF,WAAW,CAACE,KAAxB;MACAL,UAAU,CAACM,WAAX,GAAyBD,KAAzB;MACAL,UAAU,CAACO,KAAX,CAAiBC,IAAjB,GAAyBH,KAAK,GAAC,CAAP,GAAY,GAApC;MACAL,UAAU,CAACS,SAAX,CAAqBC,GAArB,CAAyB,MAAzB;IAED,CAND;;IAOAP,WAAW,CAACQ,MAAZ,GAAsB,MAAI;MACxBX,UAAU,CAACS,SAAX,CAAqBG,MAArB,CAA4B,MAA5B;IACD,CAFD;EAKD;;EAEDC,iBAAiB,GAAE;IACjBC,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8B,KAAKvB,KAAL,CAAWK,UAAzC;IACAmB,KAAK,CAAC,sEAAsE,KAAKxB,KAAL,CAAWG,QAAlF,CAAL,CACCsB,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAGGG,MAAD,IAAY;MAEV,KAAKC,QAAL,CAAc;QACZC,QAAQ,EAAE,IADE;QAEZ1B,KAAK,EAAEwB;MAFK,CAAd;IAKH,CAVD,EAWGG,KAAD,IAAW;MACT,KAAKF,QAAL,CAAc;QACZC,QAAQ,EAAE,IADE;QAEZC;MAFY,CAAd;IAID,CAhBH;EAkBD;;EAEDC,MAAM,GAAG;IAEL,IAAI,KAAKhC,KAAL,CAAWI,KAAX,CAAiB6B,MAAjB,GAAwB,CAA5B,EAA8B;MAC5B,oBACE;QAAA,wBACA,QAAC,YAAD;UAAc,MAAM,EAAE,CAAC,KAAKjC,KAAL,CAAWI,KAAX,CAAiB,CAAjB,EAAoB8B,GAArB,EAAyB,KAAKlC,KAAL,CAAWI,KAAX,CAAiB,CAAjB,EAAoBF,GAA7C,CAAtB;UAAyE,IAAI,EAAE,EAA/E;UAAmF,KAAK,EAAE;YAACiC,MAAM,EAAE;UAAT,CAA1F;UAAA,wBACE,QAAC,SAAD;YACE,WAAW,EAAC,2EADd;YAEE,GAAG,EAAC;UAFN;YAAA;YAAA;YAAA;UAAA,QADF,eAME,QAAC,YAAD;YAAc,MAAM,EAAE,CAAC,KAAKnC,KAAL,CAAWI,KAAX,CAAiB,CAAjB,EAAoB8B,GAArB,EAAyB,KAAKlC,KAAL,CAAWI,KAAX,CAAiB,CAAjB,EAAoBF,GAA7C,CAAtB;YAAyE,MAAM,EAAG,KAAKF,KAAL,CAAWK;UAA7F;YAAA;YAAA;YAAA;UAAA,QANF;QAAA;UAAA;UAAA;UAAA;QAAA,QADA,eASE;UAAK,SAAS,EAAC,kBAAf;UAAA,uBACI;YAAK,SAAS,EAAC,OAAf;YAAA,wBACA;cAAK,SAAS,EAAC,aAAf;cAAA,uBACE;gBAAM,SAAS,EAAC,iBAAhB;gBAAA,UAAmC,KAAKL,KAAL,CAAWK;cAA9C;gBAAA;gBAAA;gBAAA;cAAA;YADF;cAAA;cAAA;cAAA;YAAA,QADA,eAIA;cAAK,SAAS,EAAC,OAAf;cAAA,wBACE;gBAAK,SAAS,EAAC,YAAf;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QADF,eAGE,QAAC,WAAD;gBAAa,SAAS,EAAC,YAAvB;gBAAoC,GAAG,EAAC,KAAxC;gBAA8C,GAAG,EAAC,OAAlD;gBAA0D,IAAI,EAAC,GAA/D;gBAAmE,KAAK,EAAE,KAAKL,KAAL,CAAWK,UAArF;gBAAiG,OAAO,EAAGE,KAAD,IAAW;kBAAC,KAAKsB,QAAL,CAAc;oBAAExB,UAAU,EAAEE,KAAK,CAAC6B,MAAN,CAAavB;kBAA3B,CAAd;kBAAkD,KAAKP,gBAAL;kBAAwBgB,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BhB,KAAK,CAAC8B,aAAN,CAAoBxB,KAAlD;gBAA0D,CAA1P;gBAA4P,WAAW,EAAC;cAAxQ;gBAAA;gBAAA;gBAAA;cAAA,QAHF,eAIE;gBAAK,SAAS,EAAC,aAAf;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAJF;YAAA;cAAA;cAAA;cAAA;YAAA,QAJA;UAAA;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QATF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF;IAyBD,CA1BD,MA0BK;MACH,OAAO,EAAP;IACD;EAGJ;;AAnFwC"},"metadata":{},"sourceType":"module"}