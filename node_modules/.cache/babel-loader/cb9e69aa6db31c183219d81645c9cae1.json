{"ast":null,"code":"var _jsxFileName = \"/Users/mihajlopetrovic/Desktop/Posao/MappingHistory-AI/client-2/src/ChatBot/index.js\";\nimport React, { useEffect } from 'react';\nimport $ from \"jquery\"; // import bot from 'bot.svg';\n// import user from './assets/user.svg';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ChatBot() {\n  // const handleClick = (e) => {\n  //     if($(\".chat-app\").hasClass(\"active\")){\n  //         $(\".chat-app\").removeClass(\"active\");\n  //     }else{\n  //         $(\".chat-app\").addClass(\"active\");\n  //     }\n  //   }\n  //   const handleSubmit = async (e) =>{\n  //     e.preventDefault();\n  //     //const data = new FormData(form);\n  //     const chatContainer = document.querySelector('#chat_container');\n  //     chatContainer.innerHTML+=chatStripe(false,$(\"#prompt\").value);\n  //     //$(\"#prompt\").value=\"\";\n  //     //form.reset();\n  //     const uniqueId = generateUniqueId();\n  //     chatContainer.innerHTML+=chatStripe(true,\" \",uniqueId);\n  //     chatContainer.scrollTop = chatContainer.scrollHeight;\n  //     const messageDiv = document.getElementById(uniqueId);\n  //     loader(messageDiv)\n  //     const respons = await fetch('http://localhost:5001/openAi',{\n  //       method:'POST',\n  //       headers:{\n  //         'Content-Type': 'application/json',\n  //       },\n  //       body: JSON.stringify({\n  //         prompt: $(\"#prompt\").value\n  //       })\n  //     })\n  //     clearInterval(loadInterval);\n  //     messageDiv.innerHTML = \"\";\n  //     if(respons.ok){\n  //       const data = await respons.json();\n  //       const parsedData = data.bot.trim();\n  //       typeText(messageDiv,parsedData);\n  //     }else{\n  //       const err = await respons.text();\n  //       messageDiv.innerHTML = \"Something went wrong\";\n  //       alert(err);\n  //     }\n  //   }\n  //   //const form = document.getEle('form');\n  //   let loadInterval;\n  //   function loader(element){\n  //     element.textContent = '';\n  //     loadInterval = setInterval(() => {\n  //       element.textContent+='.';\n  //       if(element.textContent === '....'){\n  //         element.textContent = '';\n  //       }\n  //     },300)\n  //   }\n  //   function typeText(element,text){\n  //     let index = 0;\n  //     let interval = setInterval(() => {\n  //       if(index < text.length){\n  //         element.innerHTML += text.charAt(index);\n  //         index++;\n  //       }else{\n  //         clearInterval(interval);\n  //       }\n  //     },20)\n  //   }\n  //   function generateUniqueId(){\n  //     const timestamp = Date.now();\n  //     const randomNumber = Math.random();\n  //     const hexadecimalString = randomNumber.toString(16);\n  //     return `id-${timestamp}-${hexadecimalString}`;\n  //   }\n  //   function chatStripe(isAi,value,uniqueId){\n  //     return(\n  //       `\n  //         <div class=\"wraooer ${isAi && 'ai'}\">\n  //           <div class=\"chat\">\n  //             <div class = \"profile\">\n  //               <img\n  //                 src=\"${isAi ? \"bot.svg\" : \"user.svg\"}\"\n  //                 alt=\"${isAi? 'bot' : 'user'}\"\n  //               />\n  //             </div>\n  //             <div class = \"message\" id=${uniqueId}>${value}</div>\n  //           </div>\n  //         </div>\n  //       `\n  //     )\n  //   }\n  //   useEffect(() => {\n  //     var element = document.getElementById(\"submitQues\")\n  //     element.addEventListener('submit',handleSubmit);\n  //     element.addEventListener('keyup', (e)=>{\n  //       if(e.keyCode ===13){\n  //         handleSubmit(e);\n  //       }\n  //     })\n  //   })\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-bot\",\n    children: [/*#__PURE__*/_jsxDEV(\"iframe\", {\n      className: \"chat-app\",\n      src: \"http://localhost:5173/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"message-button\",\n      onClick: handleClick,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"message2.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 63\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 9\n  }, this);\n}\n\n_c = ChatBot;\nexport default ChatBot;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatBot\");","map":{"version":3,"names":["React","useEffect","$","ChatBot","handleClick"],"sources":["/Users/mihajlopetrovic/Desktop/Posao/MappingHistory-AI/client-2/src/ChatBot/index.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport $ from \"jquery\"\n\n// import bot from 'bot.svg';\n// import user from './assets/user.svg';\n\nfunction ChatBot() {\n\n    // const handleClick = (e) => {\n    //     if($(\".chat-app\").hasClass(\"active\")){\n    //         $(\".chat-app\").removeClass(\"active\");\n    //     }else{\n    //         $(\".chat-app\").addClass(\"active\");\n    //     }\n    //   }\n    //   const handleSubmit = async (e) =>{\n    //     e.preventDefault();\n    //     //const data = new FormData(form);\n    //     const chatContainer = document.querySelector('#chat_container');\n\n    //     chatContainer.innerHTML+=chatStripe(false,$(\"#prompt\").value);\n    //     //$(\"#prompt\").value=\"\";\n    //     //form.reset();\n      \n    //     const uniqueId = generateUniqueId();\n    //     chatContainer.innerHTML+=chatStripe(true,\" \",uniqueId);\n      \n    //     chatContainer.scrollTop = chatContainer.scrollHeight;\n      \n    //     const messageDiv = document.getElementById(uniqueId);\n    //     loader(messageDiv)\n      \n    //     const respons = await fetch('http://localhost:5001/openAi',{\n    //       method:'POST',\n    //       headers:{\n    //         'Content-Type': 'application/json',\n    //       },\n    //       body: JSON.stringify({\n    //         prompt: $(\"#prompt\").value\n    //       })\n    //     })\n      \n    //     clearInterval(loadInterval);\n    //     messageDiv.innerHTML = \"\";\n      \n    //     if(respons.ok){\n    //       const data = await respons.json();\n    //       const parsedData = data.bot.trim();\n      \n    //       typeText(messageDiv,parsedData);\n    //     }else{\n    //       const err = await respons.text();\n      \n    //       messageDiv.innerHTML = \"Something went wrong\";\n    //       alert(err);\n    //     }\n    //   }\n    //   //const form = document.getEle('form');\n      \n    //   let loadInterval;\n      \n    //   function loader(element){\n    //     element.textContent = '';\n      \n    //     loadInterval = setInterval(() => {\n    //       element.textContent+='.';\n      \n    //       if(element.textContent === '....'){\n    //         element.textContent = '';\n    //       }\n    //     },300)\n    //   }\n      \n      \n    //   function typeText(element,text){\n    //     let index = 0;\n      \n    //     let interval = setInterval(() => {\n    //       if(index < text.length){\n    //         element.innerHTML += text.charAt(index);\n    //         index++;\n    //       }else{\n    //         clearInterval(interval);\n    //       }\n    //     },20)\n    //   }\n      \n    //   function generateUniqueId(){\n    //     const timestamp = Date.now();\n    //     const randomNumber = Math.random();\n    //     const hexadecimalString = randomNumber.toString(16);\n      \n    //     return `id-${timestamp}-${hexadecimalString}`;\n    //   }\n      \n    //   function chatStripe(isAi,value,uniqueId){\n    //     return(\n    //       `\n    //         <div class=\"wraooer ${isAi && 'ai'}\">\n    //           <div class=\"chat\">\n    //             <div class = \"profile\">\n    //               <img\n    //                 src=\"${isAi ? \"bot.svg\" : \"user.svg\"}\"\n    //                 alt=\"${isAi? 'bot' : 'user'}\"\n    //               />\n    //             </div>\n    //             <div class = \"message\" id=${uniqueId}>${value}</div>\n    //           </div>\n    //         </div>\n    //       `\n    //     )\n    //   }\n\n    //   useEffect(() => {\n    //     var element = document.getElementById(\"submitQues\")\n\n    //     element.addEventListener('submit',handleSubmit);\n    //     element.addEventListener('keyup', (e)=>{\n    //       if(e.keyCode ===13){\n    //         handleSubmit(e);\n    //       }\n    //     })\n    //   })\n      \n\n\n      \n\n    return (\n        <div className='chat-bot'>\n            {/* <div className='chat-app'>\n                \n                <div id=\"chat_container\"></div>\n                <div className='form'>\n                    <textarea name=\"prompt\" rows=\"1\" cols=\"1\" placeholder=\"Ask....\" id=\"prompt\"></textarea>\n                    <button type=\"submit\" id=\"submitQues\" onClick={handleSubmit}>\n                        <img src='send.svg'></img>\n                    </button>\n                </div>\n            </div> */}\n            <iframe className='chat-app' src='http://localhost:5173/'></iframe>\n            <button id='message-button' onClick={handleClick}><img src='message2.png'></img></button>\n        </div>\n    );\n}\n\nexport default ChatBot;"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,CAAP,MAAc,QAAd,C,CAEA;AACA;;;;AAEA,SAASC,OAAT,GAAmB;EAEf;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EAEA;EACA;EAEA;EAEA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EAEA;EACA;EACA;EAEA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EAEA;EAEA;EACA;EAEA;EACA;EAEA;EACA;EACA;EACA;EACA;EAGA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EAMA,oBACI;IAAK,SAAS,EAAC,UAAf;IAAA,wBAWI;MAAQ,SAAS,EAAC,UAAlB;MAA6B,GAAG,EAAC;IAAjC;MAAA;MAAA;MAAA;IAAA,QAXJ,eAYI;MAAQ,EAAE,EAAC,gBAAX;MAA4B,OAAO,EAAEC,WAArC;MAAA,uBAAkD;QAAK,GAAG,EAAC;MAAT;QAAA;QAAA;QAAA;MAAA;IAAlD;MAAA;MAAA;MAAA;IAAA,QAZJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAgBH;;KA1IQD,O;AA4IT,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}