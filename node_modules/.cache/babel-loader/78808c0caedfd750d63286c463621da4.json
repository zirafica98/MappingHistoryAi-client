{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mihajlopetrovic/Desktop/Posao/MappingHistory-AI/client-2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mihajlopetrovic/Desktop/Posao/MappingHistory-AI/client-2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useEffect}from'react';import $ from\"jquery\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ChatBot(){var chatStripe=function chatStripe(isAi,value,uniqueId){return\"\\n            <div class=\\\"wraooer \".concat(isAi&&'ai',\"\\\">\\n              <div class=\\\"chat\\\">\\n                <div class = \\\"profile\\\">\\n                  <img\\n                    src=\\\"\").concat(isAi?\"bot.svg\":\"user.svg\",\"\\\"\\n                    alt=\\\"\").concat(isAi?'bot':'user',\"\\\"\\n                  />\\n                </div>\\n                <div class = \\\"message\\\" id=\").concat(uniqueId,\">\").concat(value,\"</div>\\n              </div>\\n            </div>\\n          \");};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var quest,location;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:quest=document.getElementById(\"prompt\").value;location=document.getElementById(\"location\").value;window.location.href=\"?location=\"+location+\"&question=\"+quest;e.preventDefault();case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var openChat=function openChat(){var chatContainer=document.querySelector('#chat_container');if($(\".chat-app\").hasClass(\"active\")){$(\".chat-app\").removeClass(\"active\");chatContainer.innerHTML=\"\";}else{$(\".chat-app\").addClass(\"active\");chatContainer.innerHTML+=chatStripe(true,\"Hello, how may I help you?\",\"firstMessage\");}};useEffect(function(){document.getElementById(\"prompt\").addEventListener('keyup',function(e){if(e.keyCode===13){handleSubmit(e);}});});return/*#__PURE__*/_jsxs(\"div\",{id:\"app\",className:\"chat-bot\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chat-app\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"location\",id:\"location\",placeholder:\"Location\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"prompt\",id:\"prompt\",rows:\"1\",cols:\"1\",placeholder:\"Ask....\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmit,children:/*#__PURE__*/_jsx(\"img\",{src:\"send.svg\"})})]}),/*#__PURE__*/_jsx(\"button\",{id:\"message-button\",onClick:openChat,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-commenting-o\"})})]});}export default ChatBot;","map":{"version":3,"names":["React","useEffect","$","ChatBot","chatStripe","isAi","value","uniqueId","handleSubmit","e","quest","document","getElementById","location","window","href","preventDefault","openChat","chatContainer","querySelector","hasClass","removeClass","innerHTML","addClass","addEventListener","keyCode"],"sources":["/Users/mihajlopetrovic/Desktop/Posao/MappingHistory-AI/client-2/src/ChatBot/index.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport $ from \"jquery\"\nfunction ChatBot() {\n      \n      const chatStripe = (isAi,value,uniqueId) =>{\n        return(\n          `\n            <div class=\"wraooer ${isAi && 'ai'}\">\n              <div class=\"chat\">\n                <div class = \"profile\">\n                  <img\n                    src=\"${isAi ? \"bot.svg\" : \"user.svg\"}\"\n                    alt=\"${isAi? 'bot' : 'user'}\"\n                  />\n                </div>\n                <div class = \"message\" id=${uniqueId}>${value}</div>\n              </div>\n            </div>\n          `\n        )\n      }\n\n\n    const handleSubmit = async (e) =>{\n      const quest = document.getElementById(\"prompt\").value;\n      const location = document.getElementById(\"location\").value;\n      window.location.href=\"?location=\"+location +\"&question=\" + quest;\n      e.preventDefault();\n    }\n\n    const openChat = () =>{\n      const chatContainer = document.querySelector('#chat_container');\n\n\n        if($(\".chat-app\").hasClass(\"active\")){\n            $(\".chat-app\").removeClass(\"active\");\n            chatContainer.innerHTML=\"\";\n        }else{\n            $(\".chat-app\").addClass(\"active\");\n            chatContainer.innerHTML+=chatStripe(true,\"Hello, how may I help you?\",\"firstMessage\")\n        }\n    }\n\n    useEffect(()=>{\n        document.getElementById(\"prompt\").addEventListener('keyup', (e)=>{\n            if(e.keyCode ===13){\n              handleSubmit(e);\n            }\n          })\n    }) \n\n    return (\n            <div id=\"app\" className='chat-bot'>\n                <div className='chat-app'>\n                    {/* <div id=\"chat_container\"></div> */}\n                    <input name=\"location\" id=\"location\" placeholder='Location'></input>\n                    <textarea name=\"prompt\" id=\"prompt\" rows=\"1\" cols=\"1\" placeholder=\"Ask....\"></textarea>\n                    <button type=\"submit\" onClick={handleSubmit}><img src=\"send.svg\"></img></button>\n                </div>\n                <button id='message-button' onClick={openChat}>\n                    <i className=\"fa fa-commenting-o\"></i>\n                  </button>\n            </div>\n    );\n}\n\nexport default ChatBot;"],"mappings":"0TAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,EAAP,KAAc,QAAd,C,wFACA,QAASC,QAAT,EAAmB,CAEb,GAAMC,WAAU,CAAG,QAAbA,WAAa,CAACC,IAAD,CAAMC,KAAN,CAAYC,QAAZ,CAAwB,CACzC,mDAE0BF,IAAI,EAAI,IAFlC,kJAMmBA,IAAI,CAAG,SAAH,CAAe,UANtC,0CAOmBA,IAAI,CAAE,KAAF,CAAU,MAPjC,0GAUoCE,QAVpC,aAUgDD,KAVhD,iEAeD,CAhBD,CAmBF,GAAME,aAAY,4FAAG,iBAAOC,CAAP,uIACbC,KADa,CACLC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCN,KAD7B,CAEbO,QAFa,CAEFF,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCN,KAFlC,CAGnBQ,MAAM,CAACD,QAAP,CAAgBE,IAAhB,CAAqB,aAAaF,QAAb,CAAuB,YAAvB,CAAsCH,KAA3D,CACAD,CAAC,CAACO,cAAF,GAJmB,sDAAH,kBAAZR,aAAY,4CAAlB,CAOA,GAAMS,SAAQ,CAAG,QAAXA,SAAW,EAAK,CACpB,GAAMC,cAAa,CAAGP,QAAQ,CAACQ,aAAT,CAAuB,iBAAvB,CAAtB,CAGE,GAAGjB,CAAC,CAAC,WAAD,CAAD,CAAekB,QAAf,CAAwB,QAAxB,CAAH,CAAqC,CACjClB,CAAC,CAAC,WAAD,CAAD,CAAemB,WAAf,CAA2B,QAA3B,EACAH,aAAa,CAACI,SAAd,CAAwB,EAAxB,CACH,CAHD,IAGK,CACDpB,CAAC,CAAC,WAAD,CAAD,CAAeqB,QAAf,CAAwB,QAAxB,EACAL,aAAa,CAACI,SAAd,EAAyBlB,UAAU,CAAC,IAAD,CAAM,4BAAN,CAAmC,cAAnC,CAAnC,CACH,CACJ,CAXD,CAaAH,SAAS,CAAC,UAAI,CACVU,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCY,gBAAlC,CAAmD,OAAnD,CAA4D,SAACf,CAAD,CAAK,CAC7D,GAAGA,CAAC,CAACgB,OAAF,GAAa,EAAhB,CAAmB,CACjBjB,YAAY,CAACC,CAAD,CAAZ,CACD,CACF,CAJH,EAKH,CANQ,CAAT,CAQA,mBACQ,aAAK,EAAE,CAAC,KAAR,CAAc,SAAS,CAAC,UAAxB,wBACI,aAAK,SAAS,CAAC,UAAf,wBAEI,cAAO,IAAI,CAAC,UAAZ,CAAuB,EAAE,CAAC,UAA1B,CAAqC,WAAW,CAAC,UAAjD,EAFJ,cAGI,iBAAU,IAAI,CAAC,QAAf,CAAwB,EAAE,CAAC,QAA3B,CAAoC,IAAI,CAAC,GAAzC,CAA6C,IAAI,CAAC,GAAlD,CAAsD,WAAW,CAAC,SAAlE,EAHJ,cAII,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAED,YAA/B,uBAA6C,YAAK,GAAG,CAAC,UAAT,EAA7C,EAJJ,GADJ,cAOI,eAAQ,EAAE,CAAC,gBAAX,CAA4B,OAAO,CAAES,QAArC,uBACI,UAAG,SAAS,CAAC,oBAAb,EADJ,EAPJ,GADR,CAaH,CAED,cAAed,QAAf"},"metadata":{},"sourceType":"module"}